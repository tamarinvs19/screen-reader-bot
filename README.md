# Screen-reader-bot
Программа, распознающая текст на скрине и отправляющая ответ в телегам.

## Зависимости
Предназначено для работы на Linux.

Требуется установленный `tesseract` с русским языком (`tesseract-ocr-rus`) и утила `convert`.

## Использование
Сначала нужно создать телеграм-бота и добавить токен в `TOKEN` (в файле `src/config.py`). 

Директория со скриншотами задается также в `src/config.py`. 
__ВНИМАНИЕ__: Все, найденные там изображения будут распознаваться и удалятся!

Для запуска бота:
```bash
python3 src/bot.py
```
### Обрезка скрина
Чтобы поиск текста был корректным, предварительно нужно подобрать параматры `CROP_LEFT`, `CROP_TOP` и `CROP_RIGTH` в `src/config.py`. Эти параметры задают обрезаемое пространство вокруг текста, протестировать это можно, запуская `crop` из `src/img_to_text.py`. Оптимально, чтобы слева, сверху и справа не было постороннего текста, а текст, который нужно распознать находился в самом верху обрезанной картинки.

## Команды
* `\j <text>` Ищет ответ на данный вопрос, можно только подстроку
* `\inf` Запускает бесконечный цикл сканирования фотографий.
* `\inf_channal` Запускает бесконечный цикл сканирования фотографий, но с отсылкой в канал с заданным в `src/config.py` ID.
* `<text>` Любая другая команда запускает сканирование один раз.
* Можно запустить `src/main.py`. Будет активирована бесконечная проверка скринов и отсылка в канал `https://t.me/KokoPepe`.
